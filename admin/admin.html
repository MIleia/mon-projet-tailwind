
<?php
session_start();
if (!isset($_SESSION['user'])) {
    header('Location: connexion.php');
    exit();
}
?>

<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Accueil</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&display=swap');
            body {
                font-family: 'Lexend', sans-serif;
            }
        </style>
    </head>
    <body>

        <div class="flex">
           <!-- Sidebar -->
            <aside class="fixed top-0 left-0 h-screen w-[20rem] bg-white text-gray-700 p-4 z-50 flex flex-col border-r border-gray-200 shadow-r">
                <div class="mb-2 p-4">
                    <img src="images/Page prestations 2/logo-350100.png" alt="Logo Pharmacol" class="h-16">
                </div>

                <nav class="flex flex-col gap-1 min-w-[240px] p-2 text-base text-gray-700">
                    
                    <!-- Blog -->
                    <button type="button" onclick="showSection('blog')" class="flex items-center w-full p-3 rounded-lg hover:bg-blue-50 hover:text-blue-900">
                        <div class="mr-4">
                            <!-- Icon -->
                            
                        </div>
                        Blog
                        <div class="ml-auto">
                            <span class="bg-blue-500/20 text-blue-900 py-1 px-2 text-xs rounded-full">14</span>
                        </div>
                    </button>

                    <!-- Newsletter -->
                    <button type="button" onclick="showSection('newsletter')" class="flex items-center w-full p-3 rounded-lg hover:bg-blue-50 hover:text-blue-900">
                        <div class="mr-4">
                            <!-- Icon -->
                            
                        </div>
                        Newsletter
                    </button>

                    <!-- Settings -->
                    <button type="button" onclick="showSection('settings')" class="flex items-center w-full p-3 rounded-lg hover:bg-blue-50 hover:text-blue-900">
                        <div class="mr-4">
                            <!-- Icon -->
                            
                        </div>
                        Settings
                    </button>

                    <!-- Logout (optionnel si action directe) -->
                    <button type="button" onclick="window.location.href='logout.php'" class="...">Log Out</button>

                </nav>
            </aside>

            <!-- Contenu principal -->
            <main class="ml-[20rem] w-full p-8 flex flex-col">
                
                <section id="newsletter" class="section-content">
                    <div>
                        <table class="min-w-full table-auto">
                            <thead class="justify-between">
                                <tr class="bg-gray-800">

                                    <th class="px-16 py-2">
                                        <span class="text-gray-300">Email</span>
                                    </th>
                                    
                                    <th class="px-16 py-2">
                                        <span class="text-gray-300">Nom</span>
                                    </th>

                                    <th class="px-16 py-2">
                                        <span class="text-gray-300">Pr√©nom</span>
                                    </th>

                                    <th class="px-16 py-2">
                                        <span class="text-gray-300">Supression</span>
                                    </th>

                                </tr>
                            </thead>
                            <tbody class="bg-gray-200">
                                <!-- Personne -->
                                
                                <tr class="bg-white border-4 border-gray-200">
                                    <td class="px-16 py-2 text-center">
                                        <span class="text-center ml-2 font-semibold">example.com@email.tg</span>
                                    </td>
                                    
                                    <td class="px-16 py-2 text-center">
                                        <span class="text-center ml-2 font-semibold">Dean</span>
                                    </td>

                                    <td class="px-16 py-2 text-center">
                                        <span class="text-center ml-2 font-semibold">Lynch</span>
                                    </td>

                                     <td class="px-16 py-2 text-center">
                                        <button class="ml-2 px-2 py-1 text-sm text-white bg-red-500 rounded hover:bg-red-600 transition duration-200">
                                            Supprimer
                                        </button>
                                    </td>
                                </tr>
                                
                            </tbody>
                        </table>

                    </div>
                </section>
                
                <section id="blog" class="section-content hidden">
                    <!-- Contenu Newsletter -->
                    <div class="flex items-center justify-center p-12">

                        <div class="mx-auto w-full  bg-white shadow-lg rounded-lg">

                            <form class="py-6 px-9" action="#" method="POST" enctype="multipart/form-data">
                                <!-- Titre de l'article -->
                                <div class="mb-5">
                                    <label for="title" class="mb-3 block text-base font-medium text-[#07074D]">
                                     Titre de l'article
                                    </label>
                                    <input
                                    type="text"
                                    name="title"
                                    id="title"
                                    placeholder="Entrez un titre"
                                    class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
                                    />
                                </div>

                                <!-- Contenu de l'article -->
                                <div class="mb-5">
                                    <label for="content" class="mb-3 block text-base font-medium text-[#07074D]">
                                    Contenu de l'article
                                    </label>
                                    <textarea
                                    name="content"
                                    id="content"
                                    rows="8"
                                    placeholder="R√©digez votre article ici..."
                                    class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
                                    ></textarea>
                                </div>

                                <!-- Image de l'article -->
                                <div class="mb-6 pt-4">
                                    <label class="mb-5 block text-xl font-semibold text-[#07074D]">
                                    Image pour l'article
                                    </label>

                                    <div class="mb-8">
                                        <input type="file" name="image" id="image" class="sr-only" />
                                        <label
                                            for="image"
                                            class="relative flex min-h-[200px] items-center justify-center rounded-md border border-dashed border-[#e0e0e0] p-12 text-center cursor-pointer hover:border-[#6A64F1]"
                                        >
                                            <div>
                                                <span class="mb-2 block text-xl font-semibold text-[#07074D]">
                                                    D√©posez une image ici
                                                </span>
                                                <span class="mb-2 block text-base font-medium text-[#6B7280]">
                                                ou
                                                </span>
                                                <span
                                                    class="inline-flex rounded border border-[#e0e0e0] py-2 px-7 text-base font-medium text-[#07074D]"
                                                >
                                                    Parcourir
                                                </span>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <!-- Choix de destination -->
                                <div class="mb-6">
                                    <label class="mb-3 block text-base font-medium text-[#07074D]">
                                    O√π souhaitez-vous publier ?
                                    </label>
                                    <select
                                        name="destination"
                                        id="destination"
                                        class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-4 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"
                                        >
                                        <option value="draft">Enregistrer comme brouillon</option>
                                        <option value="both">Site et newsletter</option>
                                        <option value="site">Seulement sur le site</option>
                                        <option value="newsletter">Seulement √† la newsletter</option>
                                    </select>
                                </div>

                                <!-- Bouton d'envoi -->
                                <div>
                                    <button
                                    type="submit"
                                    class="hover:shadow-form w-full rounded-md bg-[#6A64F1] py-3 px-8 text-center text-base font-semibold text-white outline-none"
                                    >
                                    Enregistrer l'article
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <section id="settings" class="section-content hidden">
                    <div class="max-w-[100rem] p-8">
                        <h2 class="text-3xl font-bold mb-8 text-center">Implantation terrain</h2>

                        <!-- Grille g√©n√©rale : 2 en haut, 1 en bas -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">

                            <!-- Bloc Togo -->
                            <div class="bg-white shadow-lg rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">üáπüá¨ Togo</h3>
                            <p class="mb-2">üë• D√©l√©gu√©s sur le terrain : <strong>12</strong></p>
                            <p class="mb-4">üè¢ Entreprises partenaires : <strong>8</strong></p>

                            <!-- Tableau scrollable -->
                            <div class="overflow-y-auto max-h-60 mb-4">
                                <table class="w-full text-sm text-left border">
                                <thead class="bg-gray-100 sticky top-0 z-10">
                                    <tr>
                                    <th class="p-2">Latitude</th>
                                    <th class="p-2">Longitude</th>
                                    <th class="p-2">Nom</th>
                                    <th class="p-2">
                                        <button onclick="openPopup()" id="popupTogo" class="text-blue-600 hover:underline text-xl font-bold">+</button>
                                    </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Exemples de lignes -->
                                    <tr class="border-t"><td class="p-2">6.1319</td><td class="p-2">1.2228</td><td class="p-2">Pharmacol</td><td></td></tr>
                                    <tr class="border-t"><td class="p-2">6.14</td><td class="p-2">1.23</td><td class="p-2">Pharma+1</td><td></td></tr>
                                    <tr class="border-t"><td class="p-2">6.15</td><td class="p-2">1.24</td><td class="p-2">Pharma+2</td><td></td></tr>
                                    <tr class="border-t"><td class="p-2">6.16</td><td class="p-2">1.25</td><td class="p-2">Pharma+3</td><td></td></tr>
                                    <tr class="border-t"><td class="p-2">6.17</td><td class="p-2">1.26</td><td class="p-2">Pharma+4</td><td></td></tr>
                                    <tr class="border-t"><td class="p-2">6.18</td><td class="p-2">1.27</td><td class="p-2">Pharma+5</td><td></td></tr>
                                </tbody>
                                </table>
                            </div>

                            <!-- Carte -->
                            <div class="w-full h-64 bg-gray-200 flex items-center justify-center rounded">
                                <span class="text-gray-500">[Carte interactive Togo]</span>
                            </div>
                            </div>

                            <!-- Bloc B√©nin -->
                            <div class="bg-white shadow-lg rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">üáßüáØ B√©nin</h3>
                            <p class="mb-2">üë• D√©l√©gu√©s sur le terrain : <strong>10</strong></p>
                            <p class="mb-4">üè¢ Entreprises partenaires : <strong>5</strong></p>

                            <div class="overflow-y-auto max-h-60 mb-4">
                                <table class="w-full text-sm text-left border">
                                <thead class="bg-gray-100 sticky top-0 z-10">
                                    <tr>
                                        <th class="p-2">Latitude</th>
                                        <th class="p-2">Longitude</th>
                                        <th class="p-2">Nom</th>
                                        <th class="p-2">
                                            <button onclick="openPopup()" id="popupBenin" class="text-blue-600 hover:underline text-xl font-bold">+</button>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-t"><td class="p-2">6.4969</td><td class="p-2">2.6289</td><td class="p-2">BeninPharma</td><td></td></tr>
                                    <!-- Ajoute d'autres lignes ici -->
                                </tbody>
                                </table>
                            </div>

                            <div class="w-full h-64 bg-gray-200 flex items-center justify-center rounded">
                                <span class="text-gray-500">[Carte interactive B√©nin]</span>
                            </div>
                            </div>
                        </div>

                        <!-- Bloc Niger sur toute la largeur -->
                        <div class="bg-white shadow-lg rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">üá≥üá™ Niger</h3>
                            <p class="mb-2">üë• D√©l√©gu√©s sur le terrain : <strong>7</strong></p>
                            <p class="mb-4">üè¢ Entreprises partenaires : <strong>4</strong></p>

                            <div class="overflow-y-auto max-h-48 mb-4">
                                <table class="w-full text-sm text-left border">
                                    <thead class="bg-gray-100 sticky top-0 z-10">
                                        <tr>
                                            <th class="p-2">Latitude</th>
                                            <th class="p-2">Longitude</th>
                                            <th class="p-2">Nom</th>
                                            <th class="p-2">
                                                <button onclick="openPopup()" id="popupNiger" class="text-blue-600 hover:underline text-xl font-bold">+</button>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-t">
                                            <td class="p-2">13.5128</td><td class="p-2">2.1125</td>
                                            <td class="p-2">Niamey Pharma</td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="w-full h-48 bg-gray-200 flex items-center justify-center rounded">
                            <span class="text-gray-500">[Carte interactive Niger]</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="logout" class="section-content hidden">
                    <form action="logout.php" method="POST">
                        <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                            D√©connexion
                        </button>
                    </form>

                </section>











                <!-- Popup -->
                <div id="popup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
                    <div class="bg-white rounded-xl shadow-lg p-6 w-96 relative">

                    <!-- Bouton de fermeture -->
                    <button onclick="closePopup()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl">&times;</button>

                    <h2 class="text-lg font-semibold mb-4 text-center">Ajouter des informations</h2>

                    <form id="popupForm" class="space-y-4">
                        <div>
                        <label for="nom" class="block font-medium">Nom</label>
                        <input type="text" id="nom" name="nom" class="w-full border rounded px-3 py-2" required>
                        </div>

                        <div>
                        <label for="longitude" class="block font-medium">Longitude</label>
                        <input type="text" id="longitude" name="longitude" class="w-full border rounded px-3 py-2" required>
                        </div>

                        <div>
                        <label for="latitude" class="block font-medium">Latitude</label>
                        <input type="text" id="latitude" name="latitude" class="w-full border rounded px-3 py-2" required>
                        </div>

                        <div class="text-right">
                        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Valider</button>
                        </div>
                    </form>
                    </div>
                </div>



                

            </main>

        </div>


        <script src="admin.js" defer></script>
    </body>
</html>
